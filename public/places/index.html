<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>favorite video game locations</title>
<link rel="alternate" title="ราวเหมือนดั่งความฝัน: updates" type="application/atom+xml" href="https://kwaamfan.neocities.org/atom.xml"/>
<link rel="shortcut icon" href="favicon.gif">

<!-- scripts -->
<script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/ScrollToPlugin.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

<style>

/*----- fonts -----*/

@font-face {
  font-family: 'PressStartReg';
  src: url('/fonts/PressStartReg.woff') format('woff2'),
      url('/fonts/PressStartReg.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SeeD';
  src: url('/fonts/SeeDComputer.woff') format('woff2'),
      url('/fonts/SeeDComputer.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/*----- body -----*/

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  width: 100lvw;
  height: 100lvh;
  font-size: 32px;
  line-height: 2;
  color: #FFFFFF;
  overflow-x: hidden;
}

a{
  text-decoration: none;
  color: rgb(191, 255, 246);
  transition: all 0.3s ease;
  &:hover{
    color: rgb(119, 207, 196);
  }
}

/*----- formatting layout -----*/

section {
  margin: 0;
  padding: 0;
  width: 100lvw;
  height: 100lvh;
  display: flex;
  align-items: center;
  justify-content: center;
}

img {
  position: absolute;
  width: 100lvw;
  height: 100lvh;
  object-fit: cover;
  z-index: -1;
}

/*----- style text -----*/

.content {
  position: relative;
  text-align: center;
  padding: 1em;
  margin: 1em;
  font-family: SeeD;
  text-shadow: 3px 3px 0 #000, 0 0 5px #000, 0 0 10px #000, 0 0 20px #000, 0 0 30px #000;
}

.content > span {
  display: block;
}

.place {
  font-family: PressStartReg;
  text-transform: uppercase;
  text-shadow: 5px 5px 0 #000, 0 0 5px #000, 0 0 10px #000, 0 0 20px #000, 0 0 30px #000;
}

/*----- go back links -----*/

nav {
  position: fixed;
  text-align: center;
  width: 100vw;
  height: auto;
  display: flex;
  justify-content:center;
  bottom: 2vh;
  z-index: 5;
  line-height: 1;
  font-family: SeeD;
  text-shadow: 3px 3px 0 #000, 0 0 5px #000, 0 0 10px #000, 0 0 20px #000, 0 0 30px #000;
}

nav span {
  padding: 0 1em;
}

</style>

</head>

</head>
<body>

  <nav><span><a href="/about/index.html">back to about page</a> / <a href="/main/index.html">personal site homepage</a></span></nav>
    
  <main>
    <section class="panel">
      <img src="places.avif" />
      <div class="content">a page dedicated to my favorite locations and songs in video games. works best with autoplay enabled.</div>
    </section>
    <section class="panel">
      <img src="eruyt.avif" />
      <div class="content"><span class="place">eruyt village</span><span class="game">final fantasy xii (2006)</span>
      <audio loop controls preload="auto">
        <source src="https://files.catbox.moe/f2ljlz.ogg" type="audio/ogg">
        <source src="https://files.catbox.moe/powczl.mp3" type="audio/mp3">
      </audio>
      </div>
    </section>
    <section class="panel">
      <img src="jazzjin.avif" />
      <div class="content"><span class="place">jazz jin</span><span class="game">persona 5 royal (2019)</span>
      <audio loop controls preload="auto">
        <source src="https://files.catbox.moe/sy2f1z.ogg" type="audio/ogg">
        <source src="https://files.catbox.moe/6fg97c.mp3" type="audio/mp3">
      </audio>
      </div>
    </section>
    <section class="panel">
      <img src="serena.avif" />
      <div class="content"><span class="place">serena</span><span class="game">yakuza series (2005)</span>
      <audio loop controls preload="auto">
        <source src="https://files.catbox.moe/odlmvr.ogg" type="audio/ogg">
        <source src="https://files.catbox.moe/wvx4ef.mp3" type="audio/mp3">
      </audio>
      </div>
    </section>
    <section class="panel">
      <img src="fishermanshorizon.avif" />
      <div class="content"><span class="place">fisherman's horizon</span><span class="game">final fantasy viii (1999)</span>
      <audio loop controls preload="auto">
        <source src="https://files.catbox.moe/tptzao.ogg" type="audio/ogg">
        <source src="https://files.catbox.moe/cc3vm2.mp3" type="audio/mp3">
      </audio>
      </div>
    </section>
    <section class="panel">
      <img src="parabellum.avif" />
      <div class="content"><span class="place">parabellum</span><span class="game">persona 2: eternal punishment (2000)</span>
      <audio loop controls preload="auto">
        <source src="https://files.catbox.moe/pugzo3.ogg" type="audio/ogg">
        <source src="https://files.catbox.moe/5oy6bf.mp3" type="audio/mp3">
      </audio>
      </div>
    </section>
  </main>

<script>

console.clear();

gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

const sections = document.querySelectorAll("section");
const playlist = document.getElementsByTagName('audio');

// this scrolling object just allows us to conveniently call scrolling.enable(), scrolling.disable(), and check if scrolling.enabled is true. 
// some browsers (like iOS Safari) handle scrolling on a separate thread and can cause things to get out of sync (jitter/jumpy), so when we're animating the scroll position, force an update of GSAP tweens when there's a scroll event in order to maintain synchronization)
const scrolling = {
    enabled: true,
    events: "scroll,wheel,touchmove,pointermove".split(","),
    prevent: e => e.preventDefault(),
    disable() {
      if (scrolling.enabled) {
        scrolling.enabled = false;
        window.addEventListener("scroll", gsap.ticker.tick, {passive: true});
        scrolling.events.forEach((e, i) => (i ? document : window).addEventListener(e, scrolling.prevent, {passive: false}));
      }
    },
    enable() {
      if (!scrolling.enabled) {
        scrolling.enabled = true;
        window.removeEventListener("scroll", gsap.ticker.tick);
        scrolling.events.forEach((e, i) => (i ? document : window).removeEventListener(e, scrolling.prevent));
      }
    }
  };


function goToSection(section, anim, i) {
  if (scrolling.enabled) { // skip if a scroll tween is in progress
    scrolling.disable();
    gsap.to(window, {
      scrollTo: {y: section, autoKill: false},
      onComplete: scrolling.enable,
      duration: 1
    });

    anim && anim.restart();
  }
}

sections.forEach((section, i) => {
  
  ScrollTrigger.create({
    trigger: section,
    start: "top bottom-=1",
    end: "bottom top+=1",
    onEnter: () => goToSection(section),
    onEnterBack: () => goToSection(section)
  });
  
  ScrollTrigger.create({
      trigger: section,
  
      start: 'top center',
      end: 'bottom center',
      
      onEnter() { playlist[i-1].play() },
      onLeave() { playlist[i-1].pause() },
      onEnterBack() { playlist[i-1].play() },
      onLeaveBack() { playlist[i-1].pause() }
  });
 
});

</script>
</body>
</html>